{"ast":null,"code":"var _jsxFileName = \"D:\\\\web\\\\AS2020\\\\web\\\\dron-taxi-web\\\\src\\\\components\\\\SignIn\\\\SignIn.jsx\";\nimport React, { useEffect } from 'react';\nimport './SignIn.css';\nimport { NavLink } from \"react-router-dom\";\nimport SignInReduxForm from \"../ReduxForms/SignInReduxForm/SignInReduxForm\";\nimport LogoDronTaxi from \"../../resources/icon-svg/LogoDronTaxi.svg\";\nimport { ReactSVG } from 'react-svg';\nimport { connect } from \"react-redux\";\nimport * as axios from \"axios\";\nimport { Redirect } from \"react-router\";\nimport { setIsAuth, setUserDataQ } from \"../../state/app-reducer\";\n\nconst SignIn = props => {\n  let onSubmit = formData => {\n    console.log(formData.email.length);\n    axios.post('http://localhost:5000/auth', {\n      email: formData.email,\n      password: formData.password\n    }).then(res => {\n      console.log(res.data);\n\n      if (res.data.status == false) {\n        localStorage.setItem('id', `${res.data}`);\n        localStorage.setItem('user_id', `${res.data.id}`);\n        props.setUserDataQ(res.data.id);\n        props.setIsAuth(`${res.data}`);\n      } else {\n        console.log('error');\n      }\n    }); //localStorage.setItem('login', formData.email)\n    // props.setUserDataQ()\n  };\n\n  return props.isAuth == 'false' ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 41\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SignIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: 10,\n      display: \"flex\",\n      alignItems: \"center\",\n      paddingTop: 30,\n      paddingLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReactSVG, {\n    src: LogoDronTaxi,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, \"DRON TAXI\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SignIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SignInWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, \"\\u0410\\u0412\\u0422\\u041E\\u0420\\u0418\\u0417\\u0410\\u0426\\u0418\\u042F\"), /*#__PURE__*/React.createElement(SignInReduxForm, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"))))));\n};\n\nconst mapStateToProps = state => ({\n  isAuth: state.appReducer.isAuth\n});\n\nexport default connect(mapStateToProps, {\n  setIsAuth,\n  setUserDataQ\n})(SignIn);","map":{"version":3,"sources":["D:/web/AS2020/web/dron-taxi-web/src/components/SignIn/SignIn.jsx"],"names":["React","useEffect","NavLink","SignInReduxForm","ReactSVG","connect","axios","Redirect","setIsAuth","setUserDataQ","SignIn","props","onSubmit","formData","console","log","email","length","post","password","then","res","data","status","localStorage","setItem","id","isAuth","height","display","alignItems","paddingTop","paddingLeft","LogoDronTaxi","mapStateToProps","state","appReducer"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport './SignIn.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport SignInReduxForm from \"../ReduxForms/SignInReduxForm/SignInReduxForm\";\r\nimport LogoDronTaxi from '../../resources/icon-svg/LogoDronTaxi.svg'\r\nimport {ReactSVG} from 'react-svg'\r\n import {connect} from \"react-redux\";\r\nimport * as axios from \"axios\";\r\nimport {Redirect} from \"react-router\";\r\nimport {setIsAuth, setUserDataQ} from \"../../state/app-reducer\";\r\n\r\nconst SignIn = (props) => {\r\n\r\n    let onSubmit = (formData) => {\r\n        console.log(formData.email.length)\r\n        axios.post('http://localhost:5000/auth', {email: formData.email, password: formData.password}).then(res => {\r\n            console.log(res.data)\r\n            if (res.data.status == false) {\r\n                localStorage.setItem('id', `${res.data}`)\r\n                localStorage.setItem('user_id', `${res.data.id}`)\r\n                props.setUserDataQ(res.data.id)\r\n                props.setIsAuth(`${res.data}`)\r\n            } else {\r\n                console.log('error')\r\n            }\r\n        })\r\n        //localStorage.setItem('login', formData.email)\r\n        // props.setUserDataQ()\r\n    }\r\n\r\n\r\n    return (props.isAuth == 'false') ?  <Redirect to=\"/profile\" /> : (\r\n        <div className=\"SignIn\">\r\n            <div style={{height: 10, display: \"flex\", alignItems: \"center\", paddingTop: 30, paddingLeft: 10}}>\r\n                <ReactSVG src={LogoDronTaxi}/>\r\n                <h3 style={{}}>DRON TAXI</h3>\r\n            </div>\r\n            <div className=\"SignIn\">\r\n\r\n                <div className=\"SignInWrapper\">\r\n                    <h5>АВТОРИЗАЦИЯ</h5>\r\n                    <SignInReduxForm onSubmit={onSubmit}/>\r\n                    <div>\r\n                        <NavLink to=\"/signup\">\r\n                            <button>Регистрация</button>\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.appReducer.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {setIsAuth, setUserDataQ})(SignIn);\r\n"]},"metadata":{},"sourceType":"module"}