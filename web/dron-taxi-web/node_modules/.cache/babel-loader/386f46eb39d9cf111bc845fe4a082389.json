{"ast":null,"code":"import _slicedToArray from\"D:\\\\web\\\\AS2020\\\\web\\\\dron-taxi-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import filtersvg from\"../../resources/icon-svg/filter.svg\";import{ReactSVG}from\"react-svg\";import{Redirect}from\"react-router\";import{connect}from\"react-redux\";import{setIsAuth,setUserDataQ,setUserDataRoleQ}from\"../../state/app-reducer\";import LogoDronTaxi from\"../../resources/icon-svg/LogoDronTaxi.svg\";import{NavLink}from\"react-router-dom\";import'./Profile.css';import clearProfile from'./../../resources/img/clear-prof.png';import ProfileReduxForm from\"../ReduxForms/ProfileReduxForm/ProfileReduxForm\";var Profile=function Profile(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),tab=_useState2[0],setTab=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),role=_useState4[0],setRole=_useState4[1];useEffect(function(){var user_id=localStorage.getItem('user_id');props.setUserDataQ(user_id);props.setUserDataRoleQ(user_id);},[]);var a=[{id:0,name:\"role1\",sys_name:\"rolexxx\",date:'34.324.34',date_f:'34.2343.43',func:[{id:0,sfuncname:'rrrr'},{id:1,sfuncname:'bbbbb'}]},{id:1,name:\"role2\",sys_name:\"rolexxx\",date:'34.324.34',date_f:'34.2343.43',func:[{id:0,sfuncname:'dfdfd'},{id:1,sfuncname:'ggggg'}]}];return props.isAuth!=='false'?/*#__PURE__*/React.createElement(Redirect,{to:\"/signin\"}):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{height:'100%',paddingTop:64,boxSizing:'border-box'}},/*#__PURE__*/React.createElement(\"div\",{style:{height:'100%',backgroundColor:'#660066'}},/*#__PURE__*/React.createElement(\"div\",{style:{height:'calc(100% - 50px)',paddingLeft:30,paddingRight:30,paddingBottom:10,paddingTop:40}},/*#__PURE__*/React.createElement(\"h3\",{style:{paddingTop:10,paddingBottom:20}},\"\\u041C\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"),props.userDataRole[0]!=undefined&&/*#__PURE__*/React.createElement(\"div\",{style:{height:'calc(100% - 124px)'}},/*#__PURE__*/React.createElement(\"div\",{style:{height:'calc(100% - 24px)',backgroundColor:'#800080'}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",width:'40%'}},/*#__PURE__*/React.createElement(\"div\",{style:tab?{backgroundColor:'#800080'}:{backgroundColor:'#991199'},className:\"tab\",onClick:function onClick(){setTab(true);}},/*#__PURE__*/React.createElement(\"span\",{style:{margin:10}},\"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\")),/*#__PURE__*/React.createElement(\"div\",{style:tab?{backgroundColor:'#991199'}:{backgroundColor:'#800080'},className:\"tab\",onClick:function onClick(){setTab(false);}},/*#__PURE__*/React.createElement(\"span\",{style:{margin:10}},\"\\u0420\\u043E\\u043B\\u0438\"))),tab&&/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",padding:50}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",marginTop:10,marginRight:50}},/*#__PURE__*/React.createElement(\"img\",{src:clearProfile,alt:\"profilepic\",height:140,style:{borderRadius:80,marginBottom:30}}),/*#__PURE__*/React.createElement(\"button\",null,\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\")),props.userData[0]&&/*#__PURE__*/React.createElement(ProfileReduxForm,null)),/*#__PURE__*/React.createElement(\"button\",null,\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"),/*#__PURE__*/React.createElement(\"button\",null,\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\")),!tab&&/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\",flex:1}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",flex:1,alignItems:\"center\"}},/*#__PURE__*/React.createElement(\"div\",{style:{width:'80%'}},/*#__PURE__*/React.createElement(\"h4\",{style:{paddingLeft:0}},\"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435 \\u0440\\u043E\\u043B\\u0438\")),/*#__PURE__*/React.createElement(\"div\",{className:\"envRoles\"},props.userDataRole.map(function(r){return/*#__PURE__*/React.createElement(\"div\",{className:\"roleDiv\",onClick:function onClick(e){return setRole(e.currentTarget.id);},id:r.role_id[0]},/*#__PURE__*/React.createElement(\"h6\",null,r.role_name));}))),props.userDataRole[role]!==undefined?/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\"}},/*#__PURE__*/React.createElement(\"h5\",{style:{paddingRight:10,paddingBottom:0}},\"\\u0420\\u043E\\u043B\\u044C:\"),\" \",/*#__PURE__*/React.createElement(\"h5\",{style:{paddingBottom:0}},props.userDataRole[role].role_name)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"\\u0421\\u0438\\u0441\\u0442\\u0435\\u043C\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:props.userDataRole[role].sys_role_name})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:props.userDataRole[role].role_name}))),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:props.userDataRole[role].date_start})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:props.userDataRole[role].date_finish})))),/*#__PURE__*/React.createElement(\"h5\",null,\"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435 \\u0444\\u0443\\u043D\\u043A\\u0446\\u0438\\u0438\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"column\"}},/*#__PURE__*/React.createElement(\"h5\",null,props.userDataRole[role].sys_func_name)))):/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\"}},/*#__PURE__*/React.createElement(\"h5\",{style:{paddingRight:10,paddingBottom:0}},\"\\u0420\\u043E\\u043B\\u044C:\"),\" \",/*#__PURE__*/React.createElement(\"h5\",{style:{paddingBottom:0}},props.userDataRole[0].role_name)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"\\u0421\\u0438\\u0441\\u0442\\u0435\\u043C\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:props.userDataRole[0].sys_role_name})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:props.userDataRole[0].role_name}))),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:props.userDataRole[0].date_start})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:props.userDataRole[0].date_finish})))),/*#__PURE__*/React.createElement(\"h5\",null,\"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435 \\u0444\\u0443\\u043D\\u043A\\u0446\\u0438\\u0438\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"column\"}},/*#__PURE__*/React.createElement(\"h5\",null,props.userDataRole[0].sys_func_name)))))))))));};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.appReducer.isAuth,userData:state.appReducer.userData,userDataRole:state.appReducer.userDataRole};};export default connect(mapStateToProps,{setIsAuth:setIsAuth,setUserDataQ:setUserDataQ,setUserDataRoleQ:setUserDataRoleQ})(Profile);","map":{"version":3,"sources":["D:/web/AS2020/web/dron-taxi-web/src/components/profile/Profile.jsx"],"names":["React","useEffect","useState","ReactSVG","Redirect","connect","setIsAuth","setUserDataQ","setUserDataRoleQ","NavLink","clearProfile","ProfileReduxForm","Profile","props","tab","setTab","role","setRole","user_id","localStorage","getItem","a","id","name","sys_name","date","date_f","func","sfuncname","isAuth","height","paddingTop","boxSizing","backgroundColor","paddingLeft","paddingRight","paddingBottom","userDataRole","undefined","display","width","margin","flexDirection","padding","marginTop","marginRight","borderRadius","marginBottom","userData","flex","alignItems","map","r","e","currentTarget","role_id","role_name","sys_role_name","date_start","date_finish","sys_func_name","mapStateToProps","state","appReducer"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport filtersvg from \"../../resources/icon-svg/filter.svg\";\r\nimport {ReactSVG} from \"react-svg\";\r\nimport {Redirect} from \"react-router\";\r\nimport {connect} from \"react-redux\";\r\nimport {setIsAuth, setUserDataQ, setUserDataRoleQ} from \"../../state/app-reducer\";\r\nimport LogoDronTaxi from \"../../resources/icon-svg/LogoDronTaxi.svg\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport './Profile.css'\r\nimport clearProfile from './../../resources/img/clear-prof.png'\r\nimport ProfileReduxForm from \"../ReduxForms/ProfileReduxForm/ProfileReduxForm\";\r\n\r\nlet Profile = (props) => {\r\n\r\n    const [tab, setTab] = useState(true)\r\n    const [role, setRole] = useState(null)\r\n\r\n    useEffect(() => {\r\n        let user_id = localStorage.getItem('user_id')\r\n        props.setUserDataQ(user_id)\r\n        props.setUserDataRoleQ(user_id)\r\n    },[])\r\n\r\n    let a = [{\r\n        id: 0,\r\n        name: \"role1\",\r\n        sys_name: \"rolexxx\",\r\n        date: '34.324.34',\r\n        date_f: '34.2343.43',\r\n        func: [{id: 0, sfuncname: 'rrrr'}, {id: 1, sfuncname: 'bbbbb'}]\r\n    }, {\r\n        id: 1,\r\n        name: \"role2\",\r\n        sys_name: \"rolexxx\",\r\n        date: '34.324.34',\r\n        date_f: '34.2343.43', func: [{id: 0, sfuncname: 'dfdfd'}, {id: 1, sfuncname: 'ggggg'}]\r\n    }]\r\n\r\n    return (props.isAuth !== 'false') ? <Redirect to=\"/signin\"/> : (\r\n        <>\r\n            <div style={{height: '100%', paddingTop: 64, boxSizing: 'border-box'}}>\r\n                <div style={{height: '100%', backgroundColor: '#660066'}}>\r\n\r\n                    <div style={{\r\n                        height: 'calc(100% - 50px)',\r\n                        paddingLeft: 30,\r\n                        paddingRight: 30,\r\n                        paddingBottom: 10,\r\n                        paddingTop: 40\r\n                    }}>\r\n                        <h3 style={{paddingTop: 10, paddingBottom: 20}}>Мой профиль</h3>\r\n\r\n                        {props.userDataRole[0] != undefined && <div style={{height: 'calc(100% - 124px)'}}>\r\n                            <div style={{height: 'calc(100% - 24px)', backgroundColor: '#800080'}}>\r\n                                <div style={{display: \"flex\", width: '40%'}}>\r\n                                    <div style={tab ? {backgroundColor: '#800080'} : {backgroundColor: '#991199'}}\r\n                                         className=\"tab\" onClick={() => {\r\n                                        setTab(true)\r\n                                    }}>\r\n                                        <span style={{margin: 10}}>Личные данные</span>\r\n                                    </div>\r\n                                    <div style={tab ? {backgroundColor: '#991199'} : {backgroundColor: '#800080'}}\r\n                                         className=\"tab\" onClick={() => {\r\n                                        setTab(false)\r\n                                    }}>\r\n                                        <span style={{margin: 10}}>Роли</span>\r\n                                    </div>\r\n                                </div>\r\n                                {tab && <div style={{display: \"flex\", flexDirection: \"column\", padding: 50}}>\r\n                                    <div style={{display: \"flex\"}}>\r\n                                        <div style={{display: \"flex\", flexDirection: \"column\", marginTop: 10, marginRight: 50}}>\r\n                                            <img src={clearProfile} alt=\"profilepic\" height={140}\r\n                                                 style={{borderRadius: 80, marginBottom: 30}}/>\r\n                                            <button>Обновить</button>\r\n                                        </div>\r\n                                        {props.userData[0] && <ProfileReduxForm/>}\r\n                                    </div>\r\n                                    <button>Сохранить</button>\r\n                                    <button>Отмена</button>\r\n                                </div>}\r\n                                {!tab &&\r\n                                <div style={{display: \"flex\", flexDirection: \"row\", flex: 1}}>\r\n                                    <div style={{display: \"flex\", flexDirection: \"column\", flex: 1, alignItems: \"center\"}}>\r\n                                        <div style={{width: '80%'}}>\r\n                                            <h4 style={{paddingLeft: 0}}>Доступные роли</h4>\r\n                                        </div>\r\n\r\n                                            <div className=\"envRoles\">\r\n\r\n                                                {props.userDataRole.map(r =>\r\n                                                    <div className=\"roleDiv\" onClick={(e) => setRole(e.currentTarget.id)}\r\n                                                          id={r.role_id[0]}><h6>{r.role_name}</h6></div>\r\n                                                )}\r\n\r\n                                        </div>\r\n                                     </div>\r\n                                    {props.userDataRole[role] !== undefined ?\r\n                                        <div style={{flex: 1}}>\r\n                                            <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                                                <h5 style={{\r\n                                                    paddingRight: 10,\r\n                                                    paddingBottom: 0\r\n                                                }}>Роль:</h5> <h5\r\n                                                style={{paddingBottom: 0}}>{props.userDataRole[role].role_name}</h5>\r\n                                            </div>\r\n                                            <div>\r\n                                                <div style={{display: \"flex\"}}>\r\n                                                    <div>\r\n                                                        <h6>Системное имя</h6>\r\n                                                        <input type=\"text\"\r\n                                                               value={props.userDataRole[role].sys_role_name}/>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <h6>Наименование</h6>\r\n                                                        <input type=\"text\" value={props.userDataRole[role].role_name}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div style={{display: \"flex\"}}>\r\n                                                    <div>\r\n                                                        <h6>Дата начала</h6>\r\n                                                        <input type=\"text\" value={props.userDataRole[role].date_start}/>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <h6>Дата окончания</h6>\r\n                                                        <input type=\"text\"\r\n                                                               value={props.userDataRole[role].date_finish}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <h5>Доступные функции</h5>\r\n                                            <div>\r\n\r\n                                                    <div\r\n                                                    style={{flexDirection: \"column\"}}>\r\n                                                    <h5>{props.userDataRole[role].sys_func_name}</h5>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div> :\r\n\r\n                                        <div style={{flex: 1}}>\r\n                                            <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                                                 <h5 style={{paddingRight: 10, paddingBottom: 0}}>Роль:</h5> <h5\r\n                                                style={{paddingBottom: 0}}>{props.userDataRole[0].role_name}</h5>\r\n                                            </div>\r\n                                            <div>\r\n                                                <div style={{display: \"flex\"}}>\r\n                                                    <div>\r\n                                                        <h6>Системное имя</h6>\r\n                                                        <input type=\"text\" value={props.userDataRole[0].sys_role_name}/>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <h6>Наименование</h6>\r\n                                                        <input type=\"text\" value={props.userDataRole[0].role_name}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div style={{display: \"flex\"}}>\r\n                                                    <div>\r\n                                                        <h6>Дата начала</h6>\r\n                                                        <input type=\"text\" value={props.userDataRole[0].date_start}/>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <h6>Дата окончания</h6>\r\n                                                        <input type=\"text\" value={props.userDataRole[0].date_finish}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <h5>Доступные функции</h5>\r\n                                            <div>\r\n                                                <div\r\n                                                    style={{flexDirection: \"column\"}}>\r\n                                                    <h5>{props.userDataRole[0].sys_func_name}</h5>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                </div>}\r\n                            </div>\r\n                        </div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.appReducer.isAuth,\r\n    userData: state.appReducer.userData,\r\n    userDataRole: state.appReducer.userDataRole\r\n})\r\n\r\nexport default connect(mapStateToProps, {setIsAuth, setUserDataQ, setUserDataRoleQ})(Profile);\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}