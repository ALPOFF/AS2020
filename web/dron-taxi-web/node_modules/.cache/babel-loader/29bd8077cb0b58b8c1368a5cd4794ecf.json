{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\web\\\\AS2020\\\\web\\\\dron-taxi-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\web\\\\AS2020\\\\web\\\\dron-taxi-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:\\\\web\\\\AS2020\\\\web\\\\dron-taxi-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{getCurUsD}from\"./api\";var AUTH='AUTH';var SET_USER_DATA='SET_USER_DATA';var ath;localStorage.getItem('id')==null?ath=true:ath=localStorage.getItem('id');var initialState={isAuth:ath,userData:[]};var appReducer=function appReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case AUTH:return _objectSpread(_objectSpread({},state),{},{isAuth:action.isAuth});case SET_USER_DATA:return _objectSpread(_objectSpread({},state),{},{userData:action.userData});default:return state;}};export var setIsAuth=function setIsAuth(isAuth){return{type:AUTH,isAuth:isAuth};};export var setUserData=function setUserData(userData){return{type:SET_USER_DATA,userData:userData};};export var setUserDataQ=function setUserDataQ(currentUserId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getCurUsD(currentUserId);case 2:response=_context.sent;dispatch(setUserData(response.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export default appReducer;","map":{"version":3,"sources":["D:/web/AS2020/web/dron-taxi-web/src/state/app-reducer.js"],"names":["getCurUsD","AUTH","SET_USER_DATA","ath","localStorage","getItem","initialState","isAuth","userData","appReducer","state","action","type","setIsAuth","setUserData","setUserDataQ","currentUserId","dispatch","response","data"],"mappings":"ydAAA,OAAQA,SAAR,KAAwB,OAAxB,CAEA,GAAMC,CAAAA,IAAI,CAAG,MAAb,CACA,GAAMC,CAAAA,aAAa,CAAG,eAAtB,CAEA,GAAIC,CAAAA,GAAJ,CACCC,YAAY,CAACC,OAAb,CAAqB,IAArB,GAA8B,IAA/B,CAAwCF,GAAG,CAAG,IAA9C,CAAsDA,GAAG,CAAGC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA5D,CAEA,GAAIC,CAAAA,YAAY,CAAG,CACfC,MAAM,CAAEJ,GADO,CAEfK,QAAQ,CAAE,EAFK,CAAnB,CAKA,GAAIC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBJ,YAAyB,IAAXK,CAAAA,MAAW,2CAC/C,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKX,CAAAA,IAAL,CACI,sCACOS,KADP,MAEIH,MAAM,CAAEI,MAAM,CAACJ,MAFnB,GAIJ,IAAKL,CAAAA,aAAL,CACI,sCACOQ,KADP,MAEIF,QAAQ,CAAEG,MAAM,CAACH,QAFrB,GAIJ,QACI,MAAOE,CAAAA,KAAP,CAZR,CAcH,CAfD,CAiBA,MAAO,IAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACN,MAAD,CAAY,CACjC,MAAO,CACHK,IAAI,CAAEX,IADH,CAEHM,MAAM,CAANA,MAFG,CAAP,CAIH,CALM,CAOP,MAAO,IAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACN,QAAD,CAAc,CACrC,MAAO,CACHI,IAAI,CAAEV,aADH,CAEHM,QAAQ,CAARA,QAFG,CAAP,CAIH,CALM,CAOP,MAAO,IAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,aAAD,iGAAmB,iBAAOC,QAAP,qJACtBjB,CAAAA,SAAS,CAACgB,aAAD,CADa,QACvCE,QADuC,eAE3CD,QAAQ,CAACH,WAAW,CAACI,QAAQ,CAACC,IAAV,CAAZ,CAAR,CAF2C,sDAAnB,gEAArB,CAKP,cAAeV,CAAAA,UAAf","sourcesContent":["import {getCurUsD} from \"./api\";\r\n\r\nconst AUTH = 'AUTH';\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet ath;\r\n(localStorage.getItem('id') == null) ? (ath = true) : ath = localStorage.getItem('id')\r\n\r\nlet initialState = {\r\n    isAuth: ath,\r\n    userData: []\r\n};\r\n\r\nlet appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case AUTH:\r\n            return {\r\n                ...state,\r\n                isAuth: action.isAuth\r\n            };\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                userData: action.userData\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport const setIsAuth = (isAuth) => {\r\n    return {\r\n        type: AUTH,\r\n        isAuth\r\n    }\r\n};\r\n\r\nexport const setUserData = (userData) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        userData\r\n    }\r\n};\r\n\r\nexport const setUserDataQ = (currentUserId) => async (dispatch) => {\r\n    let response = await getCurUsD(currentUserId);\r\n    dispatch(setUserData(response.data))\r\n}\r\n\r\nexport default appReducer;\r\n"]},"metadata":{},"sourceType":"module"}