{"ast":null,"code":"import React from\"react\";import'./SignUp.css';import SignUpReduxForm from\"../ReduxForms/SignUpReduxForm/SignUpReduxForm\";import{ReactSVG}from\"react-svg\";import LogoDronTaxi from\"../../resources/icon-svg/LogoDronTaxi.svg\";import*as axios from\"axios\";import{connect}from\"react-redux\";import{setIsAuth}from\"../../state/app-reducer\";import{Redirect}from\"react-router\";var SignUp=function SignUp(props){var onSubmit=function onSubmit(formData){console.log(formData.firstName);console.log(formData.secondName);console.log(formData.lastName);console.log(formData.emailData);console.log(formData.password);console.log(formData.password.length);if(formData.password==formData.passwordCheck){axios.post('http://localhost:5000/registr',{firstName:formData.firstName,secondName:formData.secondName,lastName:formData.lastName,emailData:formData.emailData,password:formData.password}).then(function(res){console.log(res.data);if(res.data==false){localStorage.setItem('id',res.data);props.setIsAuth(\"\".concat(res.data));}else{console.log('error');}});}else{alert('NO');}};return props.isAuth=='false'?/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"}):/*#__PURE__*/React.createElement(\"div\",{className:\"SignUpContainer\"},/*#__PURE__*/React.createElement(\"div\",{style:{height:10,display:\"flex\",alignItems:\"center\",paddingTop:30,paddingLeft:10}},/*#__PURE__*/React.createElement(ReactSVG,{src:LogoDronTaxi}),/*#__PURE__*/React.createElement(\"h3\",{style:{}},\"DRON TAXI\")),/*#__PURE__*/React.createElement(\"div\",{className:\"SignUp\"},/*#__PURE__*/React.createElement(\"div\",{className:\"SignUpWrapper\"},/*#__PURE__*/React.createElement(\"h3\",null,\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"),/*#__PURE__*/React.createElement(SignUpReduxForm,{onSubmit:onSubmit}))));};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.appReducer.isAuth};};export default connect(mapStateToProps,{setIsAuth:setIsAuth})(SignUp);","map":{"version":3,"sources":["D:/web/AS2020/web/dron-taxi-web/src/components/SignUp/SignUp.jsx"],"names":["React","SignUpReduxForm","ReactSVG","axios","connect","setIsAuth","Redirect","SignUp","props","onSubmit","formData","console","log","firstName","secondName","lastName","emailData","password","length","passwordCheck","post","then","res","data","localStorage","setItem","alert","isAuth","height","display","alignItems","paddingTop","paddingLeft","LogoDronTaxi","mapStateToProps","state","appReducer"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,eAAP,KAA4B,+CAA5B,CACA,OAAQC,QAAR,KAAuB,WAAvB,C,oEAEA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,SAAR,KAAwB,yBAAxB,CACA,OAAQC,QAAR,KAAuB,cAAvB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CAEtB,GAAIC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAc,CACzBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,SAArB,EACAF,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,UAArB,EACAH,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACK,QAArB,EACAJ,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACM,SAArB,EACAL,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACO,QAArB,EACAN,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACO,QAAT,CAAkBC,MAA9B,EACA,GAAIR,QAAQ,CAACO,QAAT,EAAqBP,QAAQ,CAACS,aAAlC,CAAiD,CAC7ChB,KAAK,CAACiB,IAAN,CAAW,+BAAX,CAA4C,CAACP,SAAS,CAAEH,QAAQ,CAACG,SAArB,CAAgCC,UAAU,CAAEJ,QAAQ,CAACI,UAArD,CAAiEC,QAAQ,CAAEL,QAAQ,CAACK,QAApF,CAA8FC,SAAS,CAAEN,QAAQ,CAACM,SAAlH,CAA6HC,QAAQ,CAAEP,QAAQ,CAACO,QAAhJ,CAA5C,EAAuMI,IAAvM,CAA4M,SAAAC,GAAG,CAAI,CAC/MX,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACC,IAAhB,EACA,GAAID,GAAG,CAACC,IAAJ,EAAY,KAAhB,CAAuB,CACnBC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2BH,GAAG,CAACC,IAA/B,EACAf,KAAK,CAACH,SAAN,WAAmBiB,GAAG,CAACC,IAAvB,GACH,CAHD,IAGO,CACHZ,OAAO,CAACC,GAAR,CAAY,OAAZ,EACH,CACJ,CARD,EASH,CAVD,IAUO,CACHc,KAAK,CAAC,IAAD,CAAL,CACH,CACJ,CApBD,CAsBA,MAAQlB,CAAAA,KAAK,CAACmB,MAAN,EAAgB,OAAjB,cAA6B,oBAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAA7B,cACH,2BAAK,SAAS,CAAC,iBAAf,eACI,2BAAK,KAAK,CAAE,CAACC,MAAM,CAAE,EAAT,CAAaC,OAAO,CAAE,MAAtB,CAA8BC,UAAU,CAAE,QAA1C,CAAoDC,UAAU,CAAE,EAAhE,CAAoEC,WAAW,CAAE,EAAjF,CAAZ,eACI,oBAAC,QAAD,EAAU,GAAG,CAAEC,YAAf,EADJ,cAEI,0BAAI,KAAK,CAAE,EAAX,cAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,eAAf,eACI,mGADJ,cAEI,oBAAC,eAAD,EAAiB,QAAQ,CAAExB,QAA3B,EAFJ,CADJ,CALJ,CADJ,CAcH,CAtCD,CAwCA,GAAMyB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAChCR,MAAM,CAAEQ,KAAK,CAACC,UAAN,CAAiBT,MADO,CAAZ,EAAxB,CAIA,cAAevB,CAAAA,OAAO,CAAC8B,eAAD,CAAkB,CAAC7B,SAAS,CAATA,SAAD,CAAlB,CAAP,CAAsCE,MAAtC,CAAf","sourcesContent":["import React from \"react\";\r\nimport './SignUp.css'\r\nimport SignUpReduxForm from \"../ReduxForms/SignUpReduxForm/SignUpReduxForm\";\r\nimport {ReactSVG} from \"react-svg\";\r\nimport LogoDronTaxi from \"../../resources/icon-svg/LogoDronTaxi.svg\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {setIsAuth} from \"../../state/app-reducer\";\r\nimport {Redirect} from \"react-router\";\r\n\r\nconst SignUp = (props) => {\r\n\r\n    let onSubmit = (formData) => {\r\n        console.log(formData.firstName)\r\n        console.log(formData.secondName)\r\n        console.log(formData.lastName)\r\n        console.log(formData.emailData)\r\n        console.log(formData.password)\r\n        console.log(formData.password.length)\r\n        if (formData.password == formData.passwordCheck) {\r\n            axios.post('http://localhost:5000/registr', {firstName: formData.firstName, secondName: formData.secondName, lastName: formData.lastName, emailData: formData.emailData, password: formData.password}).then(res => {\r\n                console.log(res.data)\r\n                if (res.data == false) {\r\n                    localStorage.setItem('id', res.data)\r\n                    props.setIsAuth(`${res.data}`)\r\n                } else {\r\n                    console.log('error')\r\n                }\r\n            })\r\n        } else {\r\n            alert('NO')\r\n        }\r\n    }\r\n\r\n    return (props.isAuth == 'false') ?  <Redirect to=\"/profile\" /> : (\r\n        <div className=\"SignUpContainer\">\r\n            <div style={{height: 10, display: \"flex\", alignItems: \"center\", paddingTop: 30, paddingLeft: 10}}>\r\n                <ReactSVG src={LogoDronTaxi}/>\r\n                <h3 style={{}}>DRON TAXI</h3>\r\n            </div>\r\n            <div className=\"SignUp\">\r\n                <div className=\"SignUpWrapper\">\r\n                    <h3>Регистрация</h3>\r\n                    <SignUpReduxForm onSubmit={onSubmit}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.appReducer.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {setIsAuth})(SignUp);\r\n\r\n"]},"metadata":{},"sourceType":"module"}